import{u as h}from"./user-store-580d10c1.js";import{r as a}from"./result-test-store-db8bbe86.js";import{_ as c,E as p,o as l,c as g}from"./index-ca3de429.js";const m={name:"SplashPage",components:{},setup(){return{userStore:h,resultTestStore:a}},mounted(){this.loadData()},methods:{getUserByToken(t){return h.getProfileByToken({token:t}).then(e=>e).catch(e=>"")},async getResult(t){return a.GET_POINT({id:t})},async getRemakeTest(t){return a.GET_REMAKE_TEST({test_input_schedule_id:t})},async loadData(){const t=p.service({lock:!0,text:"Vui lòng đợi trong giây lát ...",background:"rgba(0, 0, 0, 0.7)"});let e=this.userStore.getToken();if(!e){t.close(),this.$router.push({path:"/login"});return}let r=await this.getUserByToken(e);if(t.close(),!r){this.$router.push({path:"/login"});return}await this.getRemakeTest(r.id).then(s=>{var o,n;if((n=(o=s==null?void 0:s.data)==null?void 0:o.data)!=null&&n.is_remake){this.$router.push({path:"/information"});return}this.getResult(r.id).then(i=>{var u;if((u=i==null?void 0:i.data)!=null&&u.data){this.$router.push({path:"/result"});return}this.$router.push({path:"/information"})}).catch(()=>{this.$router.push({path:"/information"})})})}}},_={class:"bg-white h-screen"};function f(t,e,r,s,o,n){return l(),g("div",_)}const $=c(m,[["render",f]]);export{$ as default};
