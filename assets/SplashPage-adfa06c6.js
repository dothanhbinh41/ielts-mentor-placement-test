import{u as h}from"./user-store-3bd2e302.js";import{r as n}from"./result-test-store-d9376cce.js";import{_ as c,E as l,X as p,o as T,c as _}from"./index-dcab8c2b.js";const g={name:"SplashPage",components:{},setup(){return{userStore:h,resultTestStore:n}},async mounted(){const t=l.service({lock:!0,text:"Vui lòng đợi trong giây lát ...",background:"rgba(0, 0, 0, 0.7)"});await this.loadData().finally(()=>{t.close()})},methods:{getUserByToken(t){return h.getProfileByToken({token:t}).then(r=>r).catch(r=>"")},async getResult(t){return n.GET_POINT({id:t})},async getRemakeTest(t){return n.GET_REMAKE_TEST({test_input_schedule_id:t})},getStatusTestInputSchedule(t){return n.GET_STATUS_TEST_INPUT_SCHEDULE({token:t})},async loadData(){let t=this.userStore.getToken();if(!t){this.$router.push({path:"/login"});return}let r=await this.getUserByToken(t);if(!r){this.$router.push({path:"/login"});return}let o=-1;await this.getStatusTestInputSchedule(t).then(e=>{var s;o=(s=e==null?void 0:e.data)==null?void 0:s.data}),await this.getRemakeTest(r.id).then(e=>{var s,i;if((i=(s=e==null?void 0:e.data)==null?void 0:s.data)!=null&&i.is_remake&&o!=p){this.$router.push({path:"/information"});return}return this.getResult(r.id).then(u=>{var a;if((a=u==null?void 0:u.data)!=null&&a.data){this.$router.push({path:"/result"});return}this.$router.push({path:"/information"})}).catch(()=>{this.$router.push({path:"/information"})}).finally(()=>{})})}}},S={class:"bg-white h-screen"};function f(t,r,o,e,s,i){return T(),_("div",S)}const k=c(g,[["render",f]]);export{k as default};
