import{u as w}from"./user-store-216c9d7f.js";import{r as I}from"./result-test-store-de1f7284.js";import{t as O,R as P}from"./test-result-model-707fb793.js";import{_ as b,o as i,c,a as t,j as m,t as n,r as T,n as R,g as v,z as L,F as k,d as E,y as $,f as C,e as B,p as D,l as N}from"./index-3cc4c469.js";const F={name:"OveralResult",props:{pointOverall:{type:Number,default(){return 0}},testIELTS:{type:Boolean,default(){return!1}}},computed:{pointLadder(){return this.testIELTS?"9.0":"10"}}},V={class:"result__content w-full shadow-lg rounded-[16px] mb-[32px]"},j={class:"w-full bg-test-bg-header-intro rounded-t-[16px] flex justify-between py-[11px] px-[16px]"},A=t("div",{class:"flex items-center"},[t("div",{class:"rounded-32 bg-707070 w-[37px] h-[37px] flex justify-center items-center text-fdb913 bg-test-bg-icon-result"},[t("i",{class:"fa-sharp fa-solid fa-message text-[22px]"})]),t("h2",{class:"text-[18px] font-bold text-white ml-[10px] xl:text-[20px]"},"Overall")],-1),M={class:"text-right text-test-while"},Q=t("br",null,null,-1),Y={class:"font-bold text-test-text-result"},z=t("div",{class:"pt-[16px] px-[16px] pb-[28px]"},null,-1);function H(e,u,s,a,l,h){return i(),c("div",V,[t("div",j,[A,t("h2",M,[m("Số điểm "),Q,t("span",Y,n(s.pointOverall.toLocaleString("en-US",{minimumFractionDigits:1}))+" /"+n(h.pointLadder),1)])]),z])}const K=b(F,[["render",H]]),U={name:"ResultDetail",props:{resultTest:{type:Object,default(){return{}}},testIELTS:{type:Boolean,default(){return!1}}},computed:{handleCheckType(){switch(this.result.type){case 0:return"listening";case 1:return"Speaking";case 2:return"Reading";case 3:return"Writing";case 4:return"Overall"}},handleCheckTypeIcon(){switch(this.result.type){case 0:return"fa-sharp fa-solid fa-volume-high";case 1:return"fa-sharp fa-solid fa-message";case 2:return"fa-solid fa-book";case 3:return"fa-solid fa-pen";case 4:return"fa fa-envelope "}},totalPointTest(){var e,u,s,a;return this.testIELTS?((e=this.resultTest)==null?void 0:e.totalPoint)??((u=this.resultTest)==null?void 0:u.totalPointAuto):O(((s=this.resultTest)==null?void 0:s.totalPoint)??((a=this.resultTest)==null?void 0:a.totalPointAuto)*10/9)},pointLadder(){return this.testIELTS?"9.0":"10"}}},X={class:"result__content w-full shadow-lg rounded-[16px] mb-[32px]"},q={class:"w-full bg-test-bg-header-intro rounded-t-[16px] flex justify-between py-[11px] px-[16px]"},G={class:"flex items-center"},W={class:"rounded-32 bg-707070 w-[37px] h-[37px] flex justify-center items-center text-fdb913 bg-test-bg-icon-result"},J={class:"text-[18px] font-bold text-white ml-[10px] xl:text-[20px]"},Z={class:"text-right text-test-while"},tt=t("br",null,null,-1),et={class:"font-bold text-test-text-result"},st={class:"pt-[16px] px-[16px] pb-[28px]"},nt=t("h3",null,"Nhận xét:",-1),lt={key:0,class:"mb-0"},ot={key:1},it=t("p",{class:"mb-0"},"Học viên đọc phần nhận xét chi tiết để hiểu rõ những tiêu chí của kĩ năng này",-1),rt={class:"text-center mt-2"},ct={class:"demo-collapse"},ut={style:{"font-weight":"bold"}},at={style:{"white-space":"pre-line"}},ht=t("h4",null,"Chi tiết :",-1),pt={style:{"white-space":"pre-line"}},dt=t("hr",null,null,-1);function _t(e,u,s,a,l,h){var _,o,r,f;const d=T("el-collapse-item"),p=T("el-collapse");return i(),c("div",X,[t("div",q,[t("div",G,[t("div",W,[t("i",{class:R([(_=s.resultTest)==null?void 0:_.icon,"fa-sharp fa-solid fa-volume-high text-[22px]"])},null,2)]),t("h2",J,n((o=s.resultTest)==null?void 0:o.nameType),1)]),t("h2",Z,[m("Số điểm "),tt,t("span",et,n((((r=s.resultTest)==null?void 0:r.totalPoint)??((f=s.resultTest)==null?void 0:f.totalPointAuto)).toLocaleString("en-US",{minimumFractionDigits:1}))+" /"+n(h.pointLadder),1)])]),t("div",st,[nt,s.resultTest.totalQuestions?(i(),c("p",lt,"Học viên đúng "+n(s.resultTest.correctQuestions)+"/"+n(s.resultTest.totalQuestions)+" câu trong kỹ năng này",1)):(i(),c("div",ot,[it,t("div",rt,[t("div",ct,[v(p,null,{default:L(()=>[v(d,{title:"Xem Thêm",name:"1",class:"text-[15px]"},{default:L(()=>[(i(!0),c(k,null,E(s.resultTest.dataComments,(x,g)=>(i(),c("div",{key:g,class:"mb-5 text-left text-[15px]"},[t("h4",ut,"Tiêu chí "+n(g+1)+": "+n(x.nameCriteria),1),t("p",at,n(x.autoComment),1),ht,t("p",pt,n(x.comment),1),dt]))),128))]),_:1})]),_:1})])])]))])])}const xt=b(U,[["render",_t]]);const ft={name:"ResultPage",components:{OveralResult:K,ResultDetail:xt},setup(){return{userStore:w,resultTestStore:I}},created(){},mounted(){this.getInformation(),this.getPoint()},data(){return{testSchedule:{},resultTests:[],testIELTS:!1,suggestedCourse:null,pointOverall:null}},methods:{getInformation(){this.testSchedule=w.getTestSchedule()},getPoint(){I.GET_POINT({id:this.testSchedule.id}).then(e=>{var u,s,a,l,h,d;if(!e.data.error){this.suggestedCourse=(s=(u=e==null?void 0:e.data)==null?void 0:u.data)==null?void 0:s.course_suggest;let p=["speaking","writing","listening","vocabulary","reading"];((l=(a=e==null?void 0:e.data.data)==null?void 0:a.vocabulary)==null?void 0:l.right_answers)>19?(p=["speaking","writing","listening","reading"],this.testIELTS=!0):p=["speaking","vocabulary"];let _=p.map(o=>{var f,x,g,S;if(!((x=(f=e==null?void 0:e.data)==null?void 0:f.data)!=null&&x.hasOwnProperty(o))||((g=e==null?void 0:e.data)==null?void 0:g.data[o])==null)return null;let r=(S=e==null?void 0:e.data)==null?void 0:S.data[o];return new P($.get(o),r==null?void 0:r.right_answers,r.total_correct,r.avg_point,r)}).filter(o=>o!=null);this.resultTests=_,this.testIELTS&&this.resultTests.length<4&&this.$router.push({path:"/information"}),!this.testIELTS&&this.resultTests.length<2&&this.$router.push({path:"/information"}),this.pointOverall=(d=(h=e==null?void 0:e.data)==null?void 0:h.data)==null?void 0:d.overall}})}},computed:{}},y=e=>(D("data-v-1007ffca"),e=e(),N(),e),gt={class:"result bg-white pt-[32px] px-[36px] rounded-t-[32px] pb-[48px] lg:rounded-32 lg:h-auto"},mt={class:"flex flex-col lg:flex-row"},Tt=y(()=>t("h3",{class:"text-[17px] text-test-text-page-result opacity-100 font-bold mr-2"},"Xin chào bạn",-1)),vt={class:"text-[17px] text-test-text-page-result opacity-100 font-bold"},bt=y(()=>t("p",null,[m("Chúc mừng bạn đã hoàn thành tất cả bài test! "),t("br"),m(" IELTS Mentor xin gửi kết quả kiểm tra đầu vào của bạn như sau: ")],-1)),yt={class:"result__tests mt-[22px]"},St={key:0},wt=y(()=>t("h3",{class:"mb-5"},"Khóa học gợi ý ",-1)),It={class:"h-[73px] w-full flex items-center shadow-md border border-gray-100 rounded-[16px] py-[24px] pl-[28px]"};function Lt(e,u,s,a,l,h){const d=T("ResultDetail"),p=T("OveralResult");return i(),c("div",gt,[t("div",mt,[Tt,t("h3",vt,n(l.testSchedule.name)+" - "+n(l.testSchedule.phone),1)]),bt,t("div",yt,[(i(!0),c(k,null,E(l.resultTests,(_,o)=>(i(),B(d,{key:o,resultTest:_,testIELTS:l.testIELTS},null,8,["resultTest","testIELTS"]))),128)),v(p,{pointOverall:l.pointOverall,testIELTS:l.testIELTS},null,8,["pointOverall","testIELTS"])]),l.suggestedCourse?(i(),c("div",St,[wt,t("div",It,[t("h3",null,n(l.suggestedCourse),1)])])):C("",!0)])}const Rt=b(ft,[["render",Lt],["__scopeId","data-v-1007ffca"]]);export{Rt as default};
